# 个人中心功能演示

## 🎨 界面预览

### 1. 导航栏集成

**特性：**
- 🔔 实时未读通知徽章
- 👤 个人中心下拉菜单
- 🚪 快速登出
- ⏰ 自动刷新（每15秒更新未读数量）

**交互流程：**
```
顶部导航栏
├── 铃铛图标（带未读徽章）
│   └── 点击 → 跳转通知消息页
│
└── 个人中心按钮（下拉菜单）
    ├── 个人中心 → /profile
    └── 退出系统 → 登出
```

---

### 2. 基础信息页面

**布局结构：**
```
┌────────────────────────────────────────────────┐
│  个人中心                                        │
├────────────────────────────────────────────────┤
│  [基础信息] [安全设置] [通知消息]                │
├────────────────────────────────────────────────┤
│                                                │
│  ┌──────────┐                                  │
│  │          │   张三                     [编辑] │
│  │  头像    │   教师 | 在职 | 审批专员          │
│  │          │                                  │
│  └──────────┘                                  │
│  [更换头像]                                     │
│                                                │
│  ┌─────────────────────────────────────────┐  │
│  │  员工工号    T001    │  部门    教务处   │  │
│  │  电话    13800138000  │  邮箱    zhang@  │  │
│  │  账号状态   ● 正常    │  最后登录 2分钟前 │  │
│  │  注册时间   2024-01-15 08:30:00        │  │
│  └─────────────────────────────────────────┘  │
│                                                │
└────────────────────────────────────────────────┘
```

**功能点：**
1. **头像管理**
   - 显示当前头像或默认图标
   - 点击"更换头像"上传新头像
   - 支持格式：jpg, png, gif
   - 大小限制：5MB

2. **资料编辑**
   - 点击右上角"编辑"按钮
   - 弹出编辑表单
   - 可修改：姓名、邮箱、电话
   - 实时表单验证

3. **信息展示**
   - 员工工号（关联到合同系统）
   - 部门和岗位信息
   - 角色标签（多个角色用不同颜色）
   - 账号状态徽章
   - 最后登录时间（相对时间）

---

### 3. 安全设置页面

**布局结构：**
```
┌────────────────────────────────────────────────┐
│  个人中心                                        │
├────────────────────────────────────────────────┤
│  [基础信息] [安全设置] [通知消息]                │
├────────────────────────────────────────────────┤
│                                                │
│  账号安全                                       │
│                                                │
│  🔒  登录密码                          [修改]  │
│      定期修改密码可以提高账号安全性              │
│  ─────────────────────────────────────────    │
│  👤  登录账号                                   │
│      zhangsan                                  │
│                                                │
└────────────────────────────────────────────────┘
```

**修改密码弹窗：**
```
┌─────────────────────────────┐
│  修改密码                     │
├─────────────────────────────┤
│                             │
│  当前密码                    │
│  [●●●●●●●●●●]               │
│                             │
│  新密码                      │
│  [●●●●●●●●●●]               │
│                             │
│  确认新密码                  │
│  [●●●●●●●●●●]               │
│                             │
│      [取消]      [确定]      │
└─────────────────────────────┘
```

**功能点：**
1. **密码修改**
   - 需要验证当前密码
   - 新密码至少6位
   - 确认密码一致性验证
   - 修改成功后提示

2. **安全提示**
   - 密码强度建议
   - 定期修改提醒
   - 登录设备管理（待开发）

---

### 4. 通知消息页面

**布局结构：**
```
┌────────────────────────────────────────────────┐
│  个人中心                                        │
├────────────────────────────────────────────────┤
│  [基础信息] [安全设置] [通知消息]                │
├────────────────────────────────────────────────┤
│                                                │
│  通知消息  🔔 未读 5         [仅未读] [全部已读]│
│  ────────────────────────────────────────     │
│                                                │
│  🔔  待审批提醒               [待审批] ●        │
│      您有一条新的合同待审批                      │
│      2分钟前                          [删除]    │
│  ─────────────────────────────────────────    │
│  ✅  审批通过通知             [已通过]          │
│      张三的合同已通过审批                        │
│      1小时前                          [删除]    │
│  ─────────────────────────────────────────    │
│  ⚠️  合同到期提醒             [合同到期]        │
│      李四的合同将于 2025-10-30 到期...          │
│      昨天                             [删除]    │
│  ─────────────────────────────────────────    │
│                                                │
│               [加载更多]                        │
└────────────────────────────────────────────────┘
```

**功能点：**
1. **通知列表**
   - 按时间倒序排列
   - 未读通知蓝色背景高亮
   - 通知类型彩色标签
   - 相对时间显示

2. **交互操作**
   - 点击通知 → 标记为已读
   - 点击删除 → 确认后删除
   - 切换"仅未读" → 筛选未读通知
   - 点击"全部已读" → 批量标记

3. **实时更新**
   - 每30秒自动刷新列表
   - 未读数量实时同步
   - 新通知动态显示

4. **通知类型**
   - 🟠 待审批（橙色）
   - 🟢 已通过（绿色）
   - 🔴 已驳回（红色）
   - 🟣 合同到期（紫色）
   - 🔵 系统通知（蓝色）
   - ⚪ 一般消息（默认）

---

## 🔄 用户操作流程

### 场景1：更新个人资料

```
1. 点击导航栏"个人中心"
   ↓
2. 默认显示"基础信息"页面
   ↓
3. 点击右上角"编辑"按钮
   ↓
4. 修改姓名、邮箱或电话
   ↓
5. 点击"确定"提交
   ↓
6. 显示"个人信息更新成功"提示
   ↓
7. 页面自动刷新显示新信息
```

### 场景2：上传头像

```
1. 进入个人中心 → 基础信息
   ↓
2. 点击"更换头像"按钮
   ↓
3. 选择图片文件（jpg/png/gif，<5MB）
   ↓
4. 自动上传并更新
   ↓
5. 显示"头像上传成功"提示
   ↓
6. 页面显示新头像
```

### 场景3：修改密码

```
1. 进入个人中心 → 安全设置
   ↓
2. 点击"登录密码"右侧的"修改"
   ↓
3. 输入当前密码
   ↓
4. 输入新密码（至少6位）
   ↓
5. 确认新密码
   ↓
6. 点击"确定"
   ↓
7. 验证当前密码
   ↓
8. 更新密码哈希
   ↓
9. 显示"密码修改成功"提示
```

### 场景4：查看和管理通知

```
1. 导航栏看到通知图标显示"5"
   ↓
2. 点击铃铛图标
   ↓
3. 自动跳转到通知消息页面
   ↓
4. 查看未读通知（蓝色背景）
   ↓
5. 点击某条通知 → 自动标记为已读
   ↓
6. 点击"全部已读" → 清空未读徽章
   ↓
7. 点击"删除"按钮 → 确认后删除通知
```

---

## 📱 响应式设计

### 桌面端（≥1024px）
- 宽松的布局和间距
- 大尺寸头像（120px）
- 两列信息展示
- 固定侧边栏

### 平板端（768px-1023px）
- 自适应布局
- 中等尺寸头像（100px）
- 单列信息展示
- 可收起侧边栏

### 移动端（<768px）
- 紧凑布局
- 小尺寸头像（80px）
- 堆叠式排列
- 底部导航栏

---

## 🎯 用户体验亮点

### 1. 即时反馈
- ✅ 所有操作都有 loading 状态
- ✅ 成功/失败消息即时提示
- ✅ 表单验证实时反馈
- ✅ 未读徽章动态更新

### 2. 视觉层次
- 🎨 未读通知背景高亮
- 🎨 通知类型彩色标签
- 🎨 角色徽章不同颜色
- 🎨 状态指示符清晰

### 3. 交互流畅
- 🚀 数据自动缓存
- 🚀 智能轮询刷新
- 🚀 无闪烁更新
- 🚀 平滑动画过渡

### 4. 便捷操作
- 🎯 一键跳转
- 🎯 批量操作
- 🎯 快捷键支持（待开发）
- 🎯 拖拽排序（待开发）

---

## 🔗 页面跳转关系

```
导航栏
├── 铃铛图标 → /profile?tab=notifications
├── 个人中心菜单
│   ├── 个人中心 → /profile
│   └── 退出系统 → /login
│
个人中心页面
├── 基础信息 Tab → /profile?tab=basic
├── 安全设置 Tab → /profile?tab=security
└── 通知消息 Tab → /profile?tab=notifications
    └── 通知链接 → 根据 link_url 跳转
        ├── 审批相关 → /approvals?id=xxx
        └── 合同相关 → /contracts?id=xxx
```

---

## 📊 数据流示意

### 获取个人信息
```
前端                    后端                   数据库
  │                      │                      │
  ├──GET /profile/me────→│                      │
  │                      ├──查询 users 表──────→│
  │                      │←─────返回用户数据─────┤
  │←─────返回 JSON────────┤                      │
  │                      │                      │
  └──渲染页面            │                      │
```

### 上传头像
```
前端                    后端                   文件系统
  │                      │                      │
  ├──POST /avatar────────→│                      │
  │   (FormData)          ├──验证文件类型/大小   │
  │                      ├──生成唯一文件名       │
  │                      ├──保存文件────────────→│
  │                      ├──更新数据库           │
  │←─────返回 URL─────────┤                      │
  │                      │                      │
  └──显示新头像          │                      │
```

### 通知轮询
```
前端                    后端                   数据库
  │                      │                      │
  ├─定时器(30s)          │                      │
  │                      │                      │
  ├──GET /notifications──→│                      │
  │                      ├──查询未读通知────────→│
  │                      │←─────返回通知列表─────┤
  │←─────返回 JSON────────┤                      │
  │                      │                      │
  ├──更新未读徽章         │                      │
  └──刷新通知列表         │                      │
```

---

## 🎬 演示场景

### 场景：新员工首次登录

**1. 初始状态**
- 没有头像（显示默认图标）
- 个人信息不完整
- 0 条通知

**2. 完善资料**
```
登录系统
  ↓
进入个人中心
  ↓
上传头像（选择照片）
  ↓
编辑资料（填写邮箱、电话）
  ↓
保存成功
  ↓
导航栏显示头像和姓名
```

**3. 接收通知**
```
HR 上传了该员工的合同
  ↓
系统创建审批任务
  ↓
向审批人发送通知
  ↓
审批人导航栏显示"1"徽章
  ↓
点击查看通知
  ↓
跳转到审批页面
```

---

## 💡 使用建议

### 对于普通用户
1. **定期更新资料**
   - 及时更新联系方式
   - 保持个人信息准确

2. **关注通知消息**
   - 每天查看待办提醒
   - 及时处理审批任务

3. **注意账号安全**
   - 定期修改密码
   - 不要共享账号

### 对于管理员
1. **监控通知系统**
   - 检查通知发送是否正常
   - 清理过期通知

2. **管理用户档案**
   - 确保员工信息完整
   - 定期审核在职状态

3. **优化用户体验**
   - 收集用户反馈
   - 持续改进功能

---

## 🚀 未来增强

### 短期（1-2周）
- [ ] 头像裁剪功能
- [ ] 通知声音提示
- [ ] 浏览器桌面通知

### 中期（1个月）
- [ ] 会话管理（显示所有登录设备）
- [ ] 主题切换（亮色/暗色）
- [ ] 个性化设置

### 长期（3个月）
- [ ] 双因素认证（2FA）
- [ ] 移动端 APP
- [ ] 语音通知
- [ ] AI 助手集成

---

**完整文档：** [PROFILE_CENTER_GUIDE.md](./PROFILE_CENTER_GUIDE.md)

